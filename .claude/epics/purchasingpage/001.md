---
title: "Database Schema Extensions"
description: "Add nullable weight/cost, harvest dates, bushel units, and auto-invoice fields to existing purchase tables"
labels: ["database", "schema", "migration"]
assignee: ""
depends_on: []
effort: "M"
datetime_created: "2025-09-14T01:14:26Z"
datetime_started: ""
datetime_completed: ""
parallel: false
---

# Database Schema Extensions

## Description
Add nullable weight/cost, harvest dates, bushel units, and auto-invoice fields to existing purchase tables

## Acceptance Criteria
- [ ] Make weightKg and unitCost nullable in purchaseItems table
- [ ] Add harvest_date DATE column to purchaseItems
- [ ] Add original_unit VARCHAR(10) and original_quantity DECIMAL(10,2) columns
- [ ] Add auto_generated_invoice BOOLEAN column to purchases table
- [ ] Add 'bushel' value to unit enum type
- [ ] All existing purchase data remains functional

## Technical Details
Drizzle ORM migrations, backwards compatible schema changes

## Dependencies
None (foundational)

## Effort
Medium (M), 16 hours, parallel: false (blocks other tasks)