---
name: Package Sizes Reference Data
status: completed
created: 2025-09-26T14:09:32Z
updated: 2025-09-26T15:15:30Z
github: https://github.com/bwierzbo/CideryManagementWebApp/issues/79
depends_on: [78]
parallel: false
conflicts_with: []
---

# Task: Package Sizes Reference Data

## Description
Set up the package_sizes reference table with standard cidery packaging options and implement seed data to populate common package sizes with their specifications and unit conversions.

## Acceptance Criteria
- [ ] package_sizes table created with fields (id, name, volume_ml, unit_type, is_active, created_at, updated_at)
- [ ] Seed data includes standard package sizes (355ml cans, 500ml bottles, 750ml bottles, 1L bottles, 19L kegs, 58L kegs)
- [ ] Unit type categorization (can, bottle, keg, growler)
- [ ] Volume stored in consistent units (milliliters)
- [ ] Reference data validation ensures no duplicate volumes per unit type
- [ ] Seed script runs successfully and is idempotent

## Technical Details
- Create package_sizes table schema in schema.ts
- Implement seed data in packages/db/src/seed/packageSizes.ts
- Follow existing seed data patterns from other reference tables
- Add validation constraints (volume_ml > 0, name not empty)
- Include unique constraint on (volume_ml, unit_type) combination
- Ensure seed data covers common cidery packaging scenarios
- Make seed operation idempotent (upsert behavior)

## Dependencies
- [ ] Task 78 (Database Schema and Migrations) completed
- [ ] Migration system functional
- [ ] Seed data infrastructure available

## Effort Estimate
- Size: S
- Hours: 2-3 hours
- Parallel: false (depends on 78)

## Definition of Done
- [ ] Code implemented
- [ ] Tests written and passing for seed data
- [ ] Seed data runs successfully with `pnpm db:seed`
- [ ] Package sizes appear correctly in database
- [ ] Validation constraints work as expected
- [ ] Code reviewed