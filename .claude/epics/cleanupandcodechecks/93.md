---
name: Code & Asset Cleanup
status: open
created: 2025-09-28T20:37:25Z
updated: 2025-09-28T20:48:49Z
github: https://github.com/bwierzbo/CideryManagementWebApp/issues/93
depends_on: [89]  # Requires analysis infrastructure to be setup
parallel: false  # Sequential cleanup to avoid conflicts
conflicts_with: []  # No conflicts
---

# Task: Code & Asset Cleanup

## Description
Execute comprehensive code and asset cleanup using analysis reports from the infrastructure setup. Remove unused exports and files, deduplicate assets via content hashing, clean up unused assets in public/ folder, and normalize import paths and formatting across the codebase.

## Acceptance Criteria
- [ ] Unused exports removed based on knip and ts-prune analysis
- [ ] Unused files safely deleted with git history preservation
- [ ] Duplicate files detected via content hashing and consolidated
- [ ] Unused assets in public/ folder identified and removed
- [ ] Import paths normalized and optimized throughout codebase
- [ ] Barrel file exports cleaned up and optimized
- [ ] Code formatting standardized across all packages
- [ ] Orphaned components and utilities removed
- [ ] Dynamic import patterns preserved and validated
- [ ] Next.js specific patterns (routes, layouts) handled correctly

## Technical Details
- Use analysis reports from knip/ts-prune to identify removal targets
- Implement content hashing (xxhash/sha1) for duplicate file detection
- Build import path update automation when removing exports
- Scan public/ assets against:
  - Import statements in React components
  - CSS/SCSS file references
  - Next.js Image component usage
  - Dynamic imports and runtime references
- Normalize import paths (relative vs absolute, barrel imports)
- Update ESLint/Prettier formatting across codebase
- Create rollback scripts for each category of changes
- Validate builds continue to work after each cleanup phase

## Dependencies
- [ ] Analysis infrastructure (001) completed successfully
- [ ] Baseline analysis reports available and reviewed
- [ ] Test suite passing before cleanup begins
- [ ] Git working directory clean for safe operations
- [ ] Backup procedures verified and tested

## Effort Estimate
- Size: L
- Hours: 12-16 hours
- Parallel: false

## Definition of Done
- [ ] All unused exports removed with confidence scoring
- [ ] Duplicate files consolidated with proper import updates
- [ ] Public assets cleaned with usage verification
- [ ] Import paths consistent across monorepo packages
- [ ] Code formatting standardized and enforced
- [ ] All existing tests continue to pass
- [ ] Build process completes without errors
- [ ] Type checking passes across all packages
- [ ] Rollback procedures documented and tested
- [ ] Performance benchmarks show improvement in build times
- [ ] Git history preserved for all file operations
- [ ] False positive analysis shows minimal risk
